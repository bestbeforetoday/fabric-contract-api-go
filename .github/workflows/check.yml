# Copyright the Hyperledger Fabric contributors. All rights reserved.
# SPDX-License-Identifier: Apache-2.0

name: Checks

on:
  workflow_call:

jobs:
  license_check:
    name: License check
    runs-on: ubuntu-22.04
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: 16
          registry-url: "https://npm.pkg.github.com"
      - name: install Tools
        run: |
          npm install -g license-check-and-add@4.0.5
      - name: Check Licenses
        run: license-check-and-add check -f ci/license-config.json

  tutorial:
    name: Check tutorial
    runs-on: ubuntu-22.04
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-go@v5
        with:
          go-version: "1.21"
      - name: Check tutorial contents
        run: ci/scripts/tutorial-checks.sh
